<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../../google-chart/google-chart.html">
<link rel="import" href="../../highcharts-chart/highcharts-chart.html">

<dom-module id="test-bar">
 <template>
  <highcharts-chart 
    type="bar" 
    id="myChart"
    title="ข้อมูลแสดงช่วงอายุของบุคลากรภายในโรงเรียน"
    color-by-point
    x-label="ช่วงอายุ"
    y-label="จำนวน"
    xAxis="{{xAxis}}"
    data="{{data}}">
  </highcharts-chart>
  <!--<highcharts-chart 
    type="spline" 
    data='[[0,0],[1,7],[2,1],[3,6],[4,8],[5,6]]' 
    title='Test-Spline Chart' 
    x-zoom 
    x-label="Iterations" 
    y-label="Awesomeness Index">-->
  </highcharts-chart>
 </template>
 <script>
   class TestBar extends Polymer.Element {
     static get is() {
       return 'test-bar';
     }
    
     static get properties() {
       return {
         xAxis:{
          type:Array,
           notify:true,
           value:function() {
             return [{
                  categories: ["2","4","6","8","10","12"],
                  reversed: false,
                  labels: {
                      step: 1
                  }
              }, { // mirror axis on right side
                  opposite: true,
                  reversed: false,
                  categories: ["2","4","6","8","10","12"],
                  linkedTo: 0,
                  labels: {
                      step: 1
                  }
              }]
           }
         },
         data:{
           type:Array,
           notify:true,
           value:function() {
             return [{
                  name: 'ชาย',
                  data: [3,5,4,7,2,5,9,10]
              }, {
                  name: 'หญิง',
                  data: [-3,-5,-4,-7,-2,-10,-12,-6]
              }];
           }
         },
         token:{
           type:String
         },
         document:{
           type:Object,
           notify:true
         }
       }
     }
    
    ready() {
        super.ready();
        console.log(this.xAxis);
    }

     _handleResponse(event) {
       this.set('document',event.detail.response);
     }          
   }   
   customElements.define(TestBar.is,TestBar);
 </script>
</dom-module>
